{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.jsx","services/gallery-api.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/ErrorQuery/error.jpg","components/ErrorQuery/ErrorQuery.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchGallery","nextQuery","pageNumber","fetch","then","response","ok","json","console","log","Promise","reject","Error","ImageGalleryItem","item","webformatURL","id","Item","src","alt","LoaderItem","Loader","color","height","width","timeout","radius","secondaryColor","ErrorQuery","message","role","errorImage","Status","ImageGallery","gallery","status","prevProps","prevState","prevQuery","setTimeout","galleryAPI","hits","catch","map","App","page","handleFormSubmit","style","maxWidth","margin","padding","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bd80f442.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__2vHLY\",\"Item-image\":\"ImageGalleryItem_Item-image__3htoN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App-header\":\"App_App-header__d1bS1\",\"App-link\":\"App_App-link__2Jbp8\",\"App\":\"App_App__2r53v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hKgz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__hvJ8D\"};","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = event => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n    // console.log(event.currentTarget.value);\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    // console.log('handleSubmit event', event);\n\n    if (this.state.query.trim() === '') {\n      toast.error('Input query.');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchForm_button}>\n            <span className={s.SearchForm_button_label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm_input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","const API_KEY = '23458770-c93bd78e83fb2002196f13d31';\n\nfunction fetchGallery(nextQuery, pageNumber) {\n  return fetch(\n    `https://pixabay.com/api/?q=${nextQuery}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    console.log('Promise.reject');\n    return Promise.reject(new Error(`Nothing to show for: ${nextQuery}`));\n  });\n}\n\nconst api = {\n  fetchGallery,\n};\n\nexport default api;\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ item: { id, webformatURL } }) {\n  return (\n    <li className={s.Item}>\n      <img src={webformatURL} alt=\"\" className={s['Item-image']} />\n    </li>\n  );\n}\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default class LoaderItem extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        className={s.Loader}\n        type=\"MutatingDots\"\n        color=\"#6ef8d6\"\n        height={100}\n        width={100}\n        timeout={2000} //3 secs\n        radius={20}\n        secondaryColor=\"#1262a8\"\n      />\n    );\n  }\n}\n","export default __webpack_public_path__ + \"static/media/error.7d86105a.jpg\";","import errorImage from './error.jpg';\nimport React from 'react';\n\nexport default function ErrorQuery({ message }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} width=\"240\" alt=\"sadcat\" />\n      <p>{message}</p>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport galleryAPI from '../../services/gallery-api';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Loader from '../Loader';\nimport ErrorQuery from '../ErrorQuery';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default class ImageGallery extends Component {\n  state = {\n    gallery: null,\n    error: null,\n    status: Status.IDLE,\n    pageNumber: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const nextQuery = this.props.query;\n    const { pageNumber } = this.state;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({ status: Status.PENDING });\n\n      setTimeout(() => {\n        galleryAPI\n          .fetchGallery(nextQuery, pageNumber)\n          .then(gallery => {\n            this.setState({ gallery: gallery.hits, status: Status.RESOLVED });\n          })\n          .catch(error => this.setState({ error, status: Status.REJECTED }));\n      }, 2000);\n    }\n  }\n\n  render() {\n    const { gallery, status, error } = this.state;\n\n    if (status === 'idle') {\n      return <div>Input query.</div>;\n    }\n\n    if (status === 'pending') {\n      return <Loader />;\n    }\n\n    if (status === 'rejected') {\n      return <ErrorQuery message={error.message} />;\n    }\n\n    if (status === 'resolved') {\n      return (\n        <ul className={s.ImageGallery}>\n          {gallery.map(item => (\n            <ImageGalleryItem item={item} key={item.id} />\n          ))}\n        </ul>\n      );\n    }\n  }\n}\n","// import logo from './logo.svg';\nimport s from './App.module.css';\nimport { Component } from 'react';\n// import galleryAPI from './services/gallery-api';\nimport Searchbar from './components/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    gallery: [],\n  };\n\n  componentDidMount() {}\n\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    console.log('inside render', this.state.gallery);\n\n    return (\n      <div\n        className={s.App}\n        style={{ maxWidth: 1170, margin: '0 auto', padding: 20 }}\n      >\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery query={this.state.query} />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2krjG\",\"SearchForm\":\"Searchbar_SearchForm__12ogt\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2fCU5\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1g5IX\",\"SearchForm_input\":\"Searchbar_SearchForm_input__36bE7\"};"],"sourceRoot":""}