{"version":3,"sources":["App.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.jsx","services/gallery-api.js","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchGallery","nextQuery","pageNumber","fetch","then","response","ok","json","Promise","reject","Error","Status","ImageGallery","gallery","status","prevProps","prevState","prevQuery","setTimeout","galleryAPI","hits","console","log","catch","map","item","src","webformatURL","alt","id","App","page","handleFormSubmit","style","maxWidth","margin","padding","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a291a6d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App-header\":\"App_App-header__d1bS1\",\"App-link\":\"App_App-link__2Jbp8\",\"App\":\"App_App__2r53v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hKgz\"};","import React, { Component } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport s from './Searchbar.module.css';\r\n\r\n\r\nclass Searchbar extends Component{\r\n    state = {\r\n        query : \"\",\r\n    }\r\n\r\n    handleQueryChange = event => {\r\n        this.setState({ query: event.currentTarget.value.toLowerCase() });\r\n        // console.log(event.currentTarget.value);\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n        // console.log('handleSubmit event', event);\r\n\r\n        if (this.state.query.trim() === '') {\r\n            toast.error('Input query.');\r\n            return;\r\n        }\r\n\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: \"\" });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n                    <button type=\"submit\" className={s.SearchForm_button}>\r\n                        <span className={s.SearchForm_button_label}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchForm_input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={this.state.query}\r\n                        onChange={this.handleQueryChange}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Searchbar;","const API_KEY = '23458770-c93bd78e83fb2002196f13d31';\r\n\r\nfunction fetchGallery(nextQuery, pageNumber) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${nextQuery}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`Нет ответа на странице ${pageNumber}`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchGallery,\r\n};\r\n\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport galleryAPI from '../../services/gallery-api';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport default class ImageGallery extends Component{\r\n    state = {\r\n        gallery: null,\r\n        error: null,\r\n        status: Status.IDLE,\r\n        pageNumber: 1\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const prevQuery = prevProps.query;\r\n        const nextQuery = this.props.query;\r\n        const { pageNumber } = this.state;\r\n\r\n            if (prevQuery !== nextQuery) {\r\n                this.setState({ status: Status.PENDING });\r\n\r\n                setTimeout(() => {\r\n                    galleryAPI\r\n                        .fetchGallery(nextQuery, pageNumber)\r\n                        .then(gallery => {\r\n                            this.setState({ gallery: gallery.hits, status: Status.RESOLVED  });\r\n                            console.log('inside fetch', gallery.hits);\r\n                        })\r\n                        .catch(error => this.setState({ error, status: Status.REJECTED }));\r\n                }, 1500);\r\n    }\r\n    }\r\n\r\n    render() {\r\n        const { gallery, status } = this.state;\r\n\r\n        if (status === 'idle') {\r\n            return <div>Input query.</div>;\r\n        }\r\n\r\n        if (status === 'pending') {\r\n            return <div>PENDING</div>;\r\n        }\r\n\r\n        if (status === 'resolved') {\r\n            return (\r\n                <ul className={s.ImageGallery}>\r\n                    {gallery.map(item => {\r\n                        return (\r\n                            <li className=\"gallery-item\" key={item.id}>\r\n                                <img src={item.webformatURL} alt=\"\" />\r\n                            </li>\r\n                        )\r\n                    })}\r\n                </ul>\r\n            );\r\n        }\r\n    }\r\n\r\n}","// import logo from './logo.svg';\nimport s from './App.module.css';\nimport { Component } from 'react';\n// import galleryAPI from './services/gallery-api';\nimport Searchbar from './components/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    gallery: [],\n  };\n\n  componentDidMount() {}\n\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  render() {\n    console.log('inside render', this.state.gallery);\n\n    return (\n      <div\n        className={s.App}\n        style={{ maxWidth: 1170, margin: '0 auto', padding: 20 }}\n      >\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery query={this.state.query} />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2krjG\",\"SearchForm\":\"Searchbar_SearchForm__12ogt\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2fCU5\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1g5IX\",\"SearchForm_input\":\"Searchbar_SearchForm_input__36bE7\"};"],"sourceRoot":""}